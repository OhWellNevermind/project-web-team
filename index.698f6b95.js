const t=document.querySelector(".js-categories-list"),o=document.querySelector(".js-all-categories"),e=document.querySelector(".js-books-wrapper"),s=document.querySelector(".js-books-title");o.addEventListener("click",a);let n=o;async function a(){try{const t=await fetch("https://books-backend.p.goit.global/books/top-books ");if(!t.ok)throw new Error(t.statusText);const o=await t.json();s.textContent="Best sellers book",e.innerHTML=o.map((t=>`<li class="home__books-all-wrapper">\n      <p class="home__books-all-categoty">${t.list_name}</p>\n      <ul class="home__books-all-items">\n        ${c(t.books)}\n      </ul>\n      <button class="home__books-all-btn" type="button">\n        See more\n      </button>\n    </li>`)).join("")}catch(t){console.log(t)}}function c(t){return t.map((({book_image:t,title:o,author:e})=>`<li class="home__books-item">\n      <img class="home__books-img" src="${t}" alt="${o}" />\n      <h3 class="home__books-title">${o}</h3>\n      <p class="home__books-author">${e}</p>\n    </li>`)).join("")}async function l(t){let o=t.target.textContent;var a;a=t.target,n.classList.remove("home__categories-item-active"),a.classList.add("home__categories-item-active"),n=a,s.textContent=o,e.innerHTML="";try{const t=await fetch(`https://books-backend.p.goit.global/books/category?category=${o}`);if(!t.ok)throw new Error(t.statusText);const s=await t.json();e.innerHTML=c(s)}catch(t){console.log(t)}}!async function(){try{const o=await fetch("https://books-backend.p.goit.global/books/category-list");if(!o.ok)throw new Error(o.statusText);const e=await o.json();t.insertAdjacentHTML("beforeend",e.map((t=>`<li class="home__categories-item">${t.list_name}</li>`)).join("")),t.addEventListener("click",l)}catch(t){console.log(t)}}(),a();
//# sourceMappingURL=index.698f6b95.js.map
