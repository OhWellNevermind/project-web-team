const t=document.querySelector(".js-categories-list"),o=document.querySelector(".js-all-categories"),e=document.querySelector(".js-books-wrapper"),n=document.querySelector(".js-books-title");o.addEventListener("click",a),t.addEventListener("click",(function(t){if("LI"!=t.target.nodeName)return;const o=t.target.innerHTML;"All categories"===o&&a();i(t.target),r(o)}));let s=o;async function a(){try{const t=await fetch("https://books-backend.p.goit.global/books/top-books ");if(!t.ok)throw new Error(t.statusText);const o=await t.json();n.textContent="Best sellers book",e.innerHTML=o.map((t=>`<li class="home__books-all-wrapper">\n      <p class="home__books-all-category">${t.list_name}</p>\n      <ul class="home__books-all-items">\n        ${c(t.books)}\n      </ul>\n      <button class="home__books-all-btn" type="button">\n        See more\n      </button>\n    </li>`)).join("");document.querySelectorAll(".home__books-all-wrapper").forEach((t=>{t.addEventListener("click",l)}))}catch(t){console.log(t)}}function c(t){return t.map((({book_image:t,title:o,author:e})=>`<li class="home__books-item">\n      <img class="home__books-img" src="${t}" alt="${o}" />\n      <h3 class="home__books-title">${o}</h3>\n      <p class="home__books-author">${e}</p>\n    </li>`)).join("")}async function r(t){n.textContent=t,e.innerHTML="";try{const o=await fetch(`https://books-backend.p.goit.global/books/category?category=${t}`);if(!o.ok)throw new Error(o.statusText);const n=await o.json();e.innerHTML=c(n)}catch(t){console.log(t)}}function i(t){s.classList.remove("home__categories-item-active"),t.classList.add("home__categories-item-active"),s=t}function l(o){if("button"!=o.target.type)return;let e=o.currentTarget.children[0].textContent;r(e);i([...t.children].find((t=>t.textContent===e)))}!async function(){try{const o=await fetch("https://books-backend.p.goit.global/books/category-list");if(!o.ok)throw new Error(o.statusText);const e=await o.json();t.insertAdjacentHTML("beforeend",e.map((t=>`<li class="home__categories-item">${t.list_name}</li>`)).join(""))}catch(t){console.log(t)}}(),a();
//# sourceMappingURL=index.bd8e0998.js.map
