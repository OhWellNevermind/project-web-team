{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-ef971226e0fec1c4.js","src/js/categories.js","src/js/categoriesElements.js","src/js/api.js","src/js/categoryMarkUp.js","node_modules/@parcel/runtime-js/lib/runtime-9e11dc397c52df4a.js","node_modules/@parcel/runtime-js/lib/runtime-2f27e70936046b17.js","node_modules/@parcel/runtime-js/lib/runtime-08a404bb56bc032e.js","node_modules/@parcel/runtime-js/lib/runtime-e90597d4fdb88e02.js","node_modules/@parcel/runtime-js/lib/runtime-a873ed09e13ab206.js","node_modules/@parcel/runtime-js/lib/runtime-c4c2d7577be22ad5.js","src/js/popUp.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.f95d5726.js\\\",\\\"ee16w\\\":\\\"sprite.8ca286f5.svg\\\",\\\"eICEL\\\":\\\"apple-read-logo.652b354e.png\\\",\\\"2L4yx\\\":\\\"apple-read-logo@2x-1.15632d7d.png\\\",\\\"i9pPv\\\":\\\"book-shop-logo.1d091ebd.png\\\",\\\"7yZHS\\\":\\\"book-shop-logo@2x.1f77f032.png\\\",\\\"2HnSn\\\":\\\"deafult-img.9168e021.jpg\\\",\\\"h4tGU\\\":\\\"shopping_list.fb2cf792.js\\\"}\"));","import Notiflix from 'notiflix';\nimport { categoriesElements } from './categoriesElements';\nimport {\n  getAllCategories,\n  getTopBooks,\n  getSelectedCategory,\n  getBookById,\n} from './api';\nimport * as popUp from './popUp';\n\nNotiflix.Loading.init({\n  className: 'notiflix-loading',\n  zindex: 4000,\n  backgroundColor: 'rgba(0,0,0,0.8)',\n  rtl: false,\n  fontFamily: 'Quicksand',\n  cssAnimation: true,\n  cssAnimationDuration: 400,\n  clickToClose: false,\n  customSvgUrl: null,\n  customSvgCode: null,\n  svgSize: '80px',\n  svgColor: 'var(--all-categories-active)',\n  messageID: 'NotiflixLoadingMessage',\n  messageFontSize: '15px',\n  messageMaxLength: 34,\n  messageColor: '#dcdcdc',\n});\n\nNotiflix.Loading.pulse();\n\ncategoriesElements.categoriesListWrapper.addEventListener(\n  'click',\n  handleCategoryClick\n);\ncategoriesElements.booksWrapperEl.addEventListener('click', topBooksSeeMore);\n\nlet currentCategory = categoriesElements.allCategoriesItem;\n\ngetAllCategories();\ngetTopBooks();\n\nfunction handleCategoryClick(event) {\n  if (event.target.nodeName != 'LI') {\n    return;\n  }\n  const category = event.target.textContent.trim();\n  addActiveClass(event.target);\n  if (category === 'All categories') {\n    getTopBooks();\n  } else {\n    getSelectedCategory(category);\n  }\n}\n\nfunction addActiveClass(target) {\n  currentCategory.classList.remove('home__categories-item-active');\n  target.classList.add('home__categories-item-active');\n  currentCategory = target;\n}\n\nfunction topBooksSeeMore(event) {\n  if (event.target.type != 'button') {\n    return;\n  }\n  let categoryName = event.target.parentElement.querySelector(\n    '.home__books-all-category'\n  ).textContent;\n  console.log(categoryName);\n  getSelectedCategory(categoryName);\n  const categoriesArray = [\n    ...categoriesElements.categoriesListWrapper.children,\n  ];\n  const target = categoriesArray.find(\n    element => element.textContent === categoryName\n  );\n  addActiveClass(target);\n}\n","const categoriesElements = {\n  categoriesListWrapper: document.querySelector('.js-categories-list'),\n  allCategoriesItem: document.querySelector('.js-all-categories'),\n  booksWrapperEl: document.querySelector('.js-books-wrapper'),\n  booksTitleEl: document.querySelector('.js-books-title'),\n};\n\nexport { categoriesElements };\n","import Notiflix from 'notiflix';\nimport { categoriesElements } from './categoriesElements';\nimport {\n  createAllBooksMarkup,\n  createAllCategoriesListMarkup,\n  createSelectCategoryMarkup,\n} from './categoryMarkUp';\n\nconst BASIC_URL = 'https://books-backend.p.goit.global/books/';\n\nasync function getAllCategories() {\n  try {\n    const response = await fetch(`${BASIC_URL}category-list`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const books = await response.json();\n    categoriesElements.categoriesListWrapper.insertAdjacentHTML(\n      'beforeend',\n      createAllCategoriesListMarkup(books)\n    );\n  } catch (err) {\n    categoriesElements.categoriesListWrapper.innerHTML = `<h2 class=\"home__books-all-category\">Sorry, but there is no categories</h2>`;\n    console.log(err);\n  }\n}\n\nasync function getTopBooks() {\n  Notiflix.Loading.pulse();\n  try {\n    categoriesElements.booksWrapperEl.innerHTML = '';\n    categoriesElements.booksTitleEl.textContent = 'Best sellers book';\n    const response = await fetch(`${BASIC_URL}top-books `);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const topBooks = await response.json();\n    categoriesElements.booksWrapperEl.innerHTML =\n      createAllBooksMarkup(topBooks);\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nasync function getSelectedCategory(category) {\n  Notiflix.Loading.pulse();\n\n  categoriesElements.booksTitleEl.textContent = category;\n  categoriesElements.booksWrapperEl.innerHTML = '';\n  try {\n    const response = await fetch(`${BASIC_URL}category?category=${category}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const booksOfSelectegCategory = await response.json();\n    categoriesElements.booksWrapperEl.innerHTML = createSelectCategoryMarkup(\n      booksOfSelectegCategory\n    );\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nasync function getBookById(id) {\n  try {\n    const response = await fetch(`${BASIC_URL}${id}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    book = await response.json();\n    return book;\n  } catch (error) {}\n}\n\nexport { getAllCategories, getTopBooks, getSelectedCategory, getBookById };\n","const deafultInfo = 'Coming soon';\n\nfunction createAllCategoriesListMarkup(array) {\n  return array\n    .map(\n      element => `<li class=\"home__categories-item\">${element.list_name}</li>`\n    )\n    .join('');\n}\n\nfunction createAllBooksMarkup(array) {\n  return array\n    .map(\n      category =>\n        `<li class=\"home__books-all-wrapper\">\n      <p class=\"home__books-all-category\">${category.list_name}</p>\n      <ul class=\"home__books-all-items\">\n        ${createSelectCategoryMarkup(category.books)}\n      </ul>\n      <button class=\"home__books-all-btn\" type=\"button\">\n        See more\n      </button>\n    </li>`\n    )\n    .join('');\n}\n\nfunction createSelectCategoryMarkup(array) {\n  return array\n    .map(\n      ({ book_image, title, author, _id }) =>\n        `<li class=\"home__books-item\">\n      <img class=\"home__books-img\" src=\"${book_image || defoultImg}\" alt=\"${\n          title || deafultInfo\n        }\" />\n      <h3 class=\"home__books-title\">${title || deafultInfo}</h3>\n      <p class=\"home__books-author\">${author || deafultInfo}</p>\n      <p style=\"display:none\" class=\"book-id\">${_id}</p>\n    </li>`\n    )\n    .join('');\n}\n\nexport {\n  createAllBooksMarkup,\n  createAllCategoriesListMarkup,\n  createSelectCategoryMarkup,\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"eICEL\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"2L4yx\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"i9pPv\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"7yZHS\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"2HnSn\");","import sprite from '/src/images/sprite.svg';\nimport appleLogo from '/src/images/apple-read-logo.png';\nimport appleLogo2x from '/src/images/apple-read-logo@2x-1.png';\nimport bookShopLogo from '/src/images/book-shop-logo.png';\nimport bookShopLogo2x from '/src/images/book-shop-logo@2x.png';\nimport defoultImg from '../images/deafult-img.jpg';\nimport { categoriesElements } from './categoriesElements';\nimport { getBookById } from './api';\n\nconst popUpEl = document.querySelector('.js-popUp');\nconst backdropPop = document.querySelector('.js-backdrop-pop');\nconst bookStorage = JSON.parse(localStorage.getItem('book-anotation')) || [];\n\nlet btnCloseModal = null;\nlet btnAddShopingList = null;\nlet btnRemoveShopingList = null;\nlet addBtnShopList = null;\nlet removeBtnShopList = null;\nlet book = {};\n\ncategoriesElements.booksWrapperEl.addEventListener('click', onOpenPopUp);\n\nfunction popUpMarkUp(book) {\n  const { author, buy_links, description, book_image, title, _id } = book;\n  const defaultInfo =\n    'Currently there is no description! Please come and check later;)';\n  const amazonUrl = buy_links[0].url;\n  const appleUrl = buy_links[1].url;\n  const bookShopUrl = buy_links[2].url;\n  let markUp = `<button class=\"close-btn-modal js-btn-close-modal\">\n      <svg class=\"close-btn-modal-icon\" width=\"24\" height=\"24\">\n        <use href=\"${sprite}#close-icon\"></use>\n      </svg>\n    </button>\n    <div class=\"title-author-discrp\">\n      <img\n        class=\"img-book\"\n        src=\"${book_image}\"\n        alt=\"poster book\"\n      />\n      <div class=\"wrap-anotations\">\n        <h2 class=\"title-book-pop-up\">${title || defaultInfo}</h2>\n        <p class=\"author\">${author || defaultInfo}</p>\n        <p class=\"discrition-book\">\n         ${description || defaultInfo}\n        </p>\n        <ul class=\"resource-shoping\">\n          <li>\n            <a href=\"${amazonUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <svg class=\"amazon-icon\">\n                <use href=\"${sprite}#amazon-logo\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"${appleUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${appleLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n          <li>\n            <a href=\"${bookShopUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${bookShopLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"wraper\">\n      <button class=\"btn-add-shop-list js-add\" type=\"button\">\n        add to shopping\n      </button>\n\n      <div class=\"wraper-remove js-wraper-remove pop-up-is-hidden\">\n      <button class=\"btn-add-shop-list btn-remove js-remove  \" type=\"button\">\n        remove from the shopping list\n      </button>\n\n      <p class=\"msg-add-shoplist js-remove \" >\n        Ð¡ongratulations! You have added the book to the shopping list. To\n        delete, press the button \"Remove from the shopping list\".\n      </p>\n      </div>\n      </div>\n    </div>`;\n  popUpEl.innerHTML = markUp;\n  backdropPop.classList.remove('pop-up-is-hidden');\n  backdropPop.addEventListener('click', onCloseModalPop);\n  btnCloseModal = document.querySelector('.js-btn-close-modal');\n  btnAddShopingList = document.querySelector('.js-add');\n  btnRemoveShopingList = document.querySelector('.js-wraper-remove');\n  btnCloseModal.addEventListener('click', onCloseModalPop, true, {\n    once: true,\n  });\n  window.addEventListener('keydown', onCloseModalPopEsc, { once: true });\n  btnAddShopingList.addEventListener('click', onAddShopingList);\n  btnRemoveShopingList.addEventListener('click', onRemoveShopingList);\n  addBtnShopList = document.querySelector('.js-add');\n  removeBtnShopList = document.querySelector('.js-remove');\n\n  checkLocalStorage(_id);\n}\n\nasync function onOpenPopUp(event) {\n  if (event.target.nodeName != 'IMG') {\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  const parentLi = event.target.parentElement;\n  const bookId = parentLi.querySelector('.book-id').textContent;\n  await getBookById(bookId);\n  await getBookById(bookId).then(element => {\n    book = element;\n  });\n  popUpMarkUp(book);\n}\n\nfunction onCloseModalPopEsc(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  document.body.style.overflow = '';\n  backdropPop.classList.add('pop-up-is-hidden');\n  btnAddShopingList.removeEventListener('click', onAddShopingList);\n  btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n  addBtnShopList.removeEventListener('click', onAddShopingList);\n  removeBtnShopList.removeEventListener('click', onRemoveShopingList);\n}\n\nfunction onAddShopingList(event) {\n  btnAddShopingList.classList.add('pop-up-is-hidden');\n  btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n  addBookStorage();\n}\n\nfunction onRemoveShopingList(event) {\n  btnRemoveShopingList.classList.add('pop-up-is-hidden');\n  btnAddShopingList.classList.remove('pop-up-is-hidden');\n  removeBookStorage();\n}\n\nfunction onCloseModalPop(event) {\n  if (event.target.nodeName != 'BUTTON') {\n    return;\n  }\n  document.body.style.overflow = '';\n  backdropPop.classList.add('pop-up-is-hidden');\n  window.removeEventListener('keydown', onCloseModalPop, true);\n  btnCloseModal.removeEventListener('click', onCloseModalPop);\n  backdropPop.removeEventListener('click', onCloseModalPop);\n  btnAddShopingList.removeEventListener('click', onAddShopingList);\n  btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n}\n\nfunction checkLocalStorage(id) {\n  const books = localStorage.getItem('book-anotation');\n  JSON.parse(books).forEach(element => {\n    if (element._id === id) {\n      btnAddShopingList.classList.add('pop-up-is-hidden');\n      btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n    }\n  });\n}\n\nfunction addBookStorage() {\n  bookStorage.push(book);\n  localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n}\n\nfunction removeBookStorage() {\n  const books = JSON.parse(localStorage.getItem('book-anotation'));\n  books.forEach((element, idx) => {\n    if (element._id === book._id) {\n      bookStorage.splice(idx, 1);\n      localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n    }\n  });\n}\n"],"names":["parcelRequire","register","JSON","parse","$6JpON","$529cdd2b7362f2cd$export$e68eae424fc7b29a","categoriesListWrapper","document","querySelector","allCategoriesItem","booksWrapperEl","booksTitleEl","$1493fb23fd6de336$var$deafultInfo","$1493fb23fd6de336$export$482e9dd488bd860d","array","map","book_image","title","author","_id","defoultImg","join","$8197bff4c39d585a$var$BASIC_URL","async","$8197bff4c39d585a$export$3a1253a897925caa","$parcel$interopDefault","Loading","pulse","innerHTML","textContent","response","fetch","ok","Error","statusText","topBooks","json","category","list_name","books","remove","err","Notify","failure","console","log","$8197bff4c39d585a$export$1cf292bbcd88176","booksOfSelectegCategory","$8197bff4c39d585a$export$7f429e0f3975c907","id","book","error","$a6c111942fffcaf6$exports","getBundleURL","resolve","$98cea8627f997e31$exports","$b75c86ec352b27e1$exports","$96b609e7fb5e3a8a$var$popUpEl","$96b609e7fb5e3a8a$var$backdropPop","$96b609e7fb5e3a8a$var$bookStorage","localStorage","getItem","$96b609e7fb5e3a8a$var$btnCloseModal","$96b609e7fb5e3a8a$var$btnAddShopingList","$96b609e7fb5e3a8a$var$btnRemoveShopingList","$96b609e7fb5e3a8a$var$addBtnShopList","$96b609e7fb5e3a8a$var$removeBtnShopList","$96b609e7fb5e3a8a$var$book","$96b609e7fb5e3a8a$var$onCloseModalPopEsc","event","key","body","style","overflow","classList","add","removeEventListener","$96b609e7fb5e3a8a$var$onAddShopingList","$96b609e7fb5e3a8a$var$onRemoveShopingList","push","setItem","stringify","forEach","element","idx","splice","$96b609e7fb5e3a8a$var$onCloseModalPop","target","nodeName","window","addEventListener","bookId","parentElement","then","book1","buy_links","description","defaultInfo","amazonUrl","url","appleUrl","bookShopUrl","markUp","once","$96b609e7fb5e3a8a$var$checkLocalStorage","$96b609e7fb5e3a8a$var$popUpMarkUp","init","className","zindex","backgroundColor","rtl","fontFamily","cssAnimation","cssAnimationDuration","clickToClose","customSvgUrl","customSvgCode","svgSize","svgColor","messageID","messageFontSize","messageMaxLength","messageColor","trim","$7035cf87bda54340$var$addActiveClass","type","categoryName","categoriesArray","children","find","$7035cf87bda54340$var$currentCategory","insertAdjacentHTML"],"version":3,"file":"index.f95d5726.js.map"}