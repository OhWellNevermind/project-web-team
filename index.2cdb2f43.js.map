{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,ib,SCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,W,SCA5FC,EAAiB,IAAAJ,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,WCA3E,IAAAH,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,W,SCA5FE,EAAiB,IAAAL,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,WCA3E,IAAAH,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,W,sBCA5FG,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,qBAAQC,KAAEC,WCQ5FI,EAAAC,GAASC,QAAQC,KAAK,CACpBC,UAAW,mBACXC,OAAQ,IACRC,gBAAiB,kBACjBC,KAAK,EACLC,WAAY,YACZC,cAAc,EACdC,qBAAsB,IACtBC,cAAc,EACdC,aAAc,KACdC,cAAe,KACfC,QAAS,OACTC,SAAU,+BACVC,UAAW,yBACXC,gBAAiB,OACjBC,iBAAkB,GAClBC,aAAc,YAGhBnB,EAAAC,GAASC,QAAQkB,QAEjB,MAAMC,EAAY,6CAEZC,EAAwBC,SAASC,cAAc,uBAC/CC,EAAoBF,SAASC,cAAc,sBAC3CE,EAAiBH,SAASC,cAAc,qBACxCG,EAAeJ,SAASC,cAAc,mBACtCI,EAAUL,SAASC,cAAc,aACjCK,EAAcN,SAASC,cAAc,oBAE3CF,EAAsBQ,iBAAiB,SAiCvC,SAA6BC,GAC3B,GAA6B,MAAzBA,EAAMC,OAAOC,SACf,OAEF,MAAMC,EAAWH,EAAMC,OAAOG,YAAYC,OAC1CC,EAAeN,EAAMC,QACJ,mBAAbE,EACFI,IAEAC,EAAoBL,E,IAzCxBR,EAAeI,iBAAiB,SAyPhC,SAAqBC,GACnB,GAA6B,OAAzBA,EAAMC,OAAOC,SACf,OAEFV,SAASiB,KAAKC,MAAMC,SAAW,SAC/B,MAAMC,EAAWZ,EAAMC,OAAOY,eA1GhCC,eAA2BC,GACzB,IACE,MAAMC,QAAiBC,MAAM,GAAG3B,IAAYyB,KAC5C,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3BC,QAAaL,EAASM,OAK1B,SAAqBC,GACnBC,QAAQC,IAAIF,GACZ,MAAMG,OAAEA,EAAMC,UAAEA,EAASC,YAAEA,EAAWC,WAAEA,EAAUC,MAAEA,EAAKC,IAAEA,GAAQR,EAC7DS,EACJ,mEACIC,EAAYN,EAAU,GAAG/D,IACzBsE,EAAWP,EAAU,GAAG/D,IACxBuE,EAAcR,EAAU,GAAG/D,IACjC,IAAIwE,EAAS,4IAEMnE,EAAAR,iJAMNoE,uHAIyBC,GAASE,qCACrBN,GAAUM,wDAE3BJ,GAAeI,gGAIHC,gHAEMhE,EAAAR,yHAKNyE,4HAGAjE,EAAAH,+HAMAqE,4HAGAlE,EAAAF,wsBA0BrB8B,EAAQwC,UAAYD,EACpBtC,EAAYwC,UAAUC,OAAO,oBAC7BzC,EAAYC,iBAAiB,QAASyC,GACtCC,EAAgBjD,SAASC,cAAc,uBACvCiD,EAAoBlD,SAASC,cAAc,WAC3CkD,EAAuBnD,SAASC,cAAc,qBAC9CgD,EAAc1C,iBAAiB,QAASyC,GAAiB,EAAM,CAC7DI,MAAM,IAERC,OAAO9C,iBAAiB,UAAW+C,EAAoB,CAAEF,MAAM,IAC/DF,EAAkB3C,iBAAiB,QAASgD,GAC5CJ,EAAqB5C,iBAAiB,QAASiD,GAC/CC,EAAiBzD,SAASC,cAAc,WACxCyD,EAAoB1D,SAASC,cAAc,cAqD7C,SAA2BsB,GACzB,MAAMoC,EAAQC,aAAaC,QAAQ,kBACnC9F,KAAKC,MAAM2F,GAAOG,SAAQC,IACpBA,EAAQxB,MAAQhB,IAClB2B,EAAkBJ,UAAUkB,IAAI,oBAChCb,EAAqBL,UAAUC,OAAO,oB,IAxD1CkB,CAAkB1B,E,CA3FhB2B,CAAYrC,E,CACZ,MAAOsC,GAAO,C,CAoGhBC,CADehD,EAASnB,cAAc,YAAYW,Y,IA9PpDT,EAAeI,iBAAiB,SAoIhC,SAAyBC,GACvB,GAAyB,UAArBA,EAAMC,OAAO4D,KACf,OAEF,IAAIC,EAAe9D,EAAMC,OAAOY,cAAcpB,cAC5C,6BACAW,YACFI,EAAoBsD,GACpB,MAAMC,EAAkB,IAAIxE,EAAsByE,UAIlD1D,EAHeyD,EAAgBE,MAC7BV,GAAWA,EAAQnD,cAAgB0D,I,IA5IvC,IAAII,EAAkBxE,EACtB,MAAMyE,EAAc,cACpB,IAAI1B,EAAgB,KAChBC,EAAoB,KACpBC,EAAuB,KACvBM,EAAiB,KACjBC,EAAoB,KACpB7B,EAAO,GACP+C,EAAc7G,KAAKC,MAAM4F,aAAaC,QAAQ,oBAAsB,GAkCxEvC,eAAeP,IACbtC,EAAAC,GAASC,QAAQkB,QACjB,IACEM,EAAe0C,UAAY,GAC3BzC,EAAaQ,YAAc,oBAC3B,MAAMY,QAAiBC,MAAM,GAAG3B,eAChC,IAAK0B,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3B,MAAMiD,QAAiBrD,EAASM,OAChC3B,EAAe0C,UAAiCgC,EAmB/CC,KACCnE,GACE,mFACoCA,EAASoE,oEAE3CC,EAA2BrE,EAASgD,gIAOzCsB,KAAK,IA9BNxG,EAAAC,GAASC,QAAQoE,Q,CACjB,MAAOmC,GACPzG,EAAAC,GAASC,QAAQoE,SACjBtE,EAAAC,GAASyG,OAAOC,QAAQ,4CACxBpD,QAAQC,IAAIiD,E,EA6BhB,SAASF,EAA2BK,GAClC,OAAOA,EACJP,KACC,EAACzC,WAAEA,EAAUC,MAAEA,EAAKJ,OAAEA,EAAMK,IAAEA,KAC5B,0EACkCF,GAAc5D,EAAAD,YAC9C8D,GAASqC,8CAEmBrC,GAASqC,+CACTzC,GAAUyC,wDACApC,qBAG3C0C,KAAK,G,CAGV3D,eAAeN,EAAoBL,GACjClC,EAAAC,GAASC,QAAQkB,QAEjBO,EAAaQ,YAAcD,EAC3BR,EAAe0C,UAAY,GAC3B,IACE,MAAMrB,QAAiBC,MAAM,GAAG3B,sBAA8Ba,KAC9D,IAAKa,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3B,MAAM0D,QAAgC9D,EAASM,OAC/C3B,EAAe0C,UAAYmC,EACzBM,GAEF7G,EAAAC,GAASC,QAAQoE,Q,CACjB,MAAOmC,GACPzG,EAAAC,GAASC,QAAQoE,SACjBtE,EAAAC,GAASyG,OAAOC,QAAQ,4CACxBpD,QAAQC,IAAIiD,E,EAIhB,SAASpE,EAAeL,GACtBiE,EAAgB5B,UAAUC,OAAO,gCACjCtC,EAAOqC,UAAUkB,IAAI,gCACrBU,EAAkBjE,C,CAiIpB,SAAS6C,EAAmB9C,GAC1BwB,QAAQC,IAAIzB,GACK,UAAbA,EAAM+E,MAGVvF,SAASiB,KAAKC,MAAMC,SAAW,GAC/Bb,EAAYwC,UAAUkB,IAAI,oBAC1Bd,EAAkBsC,oBAAoB,QAASjC,GAC/CJ,EAAqBqC,oBAAoB,QAAShC,GAClDC,EAAe+B,oBAAoB,QAASjC,GAC5CG,EAAkB8B,oBAAoB,QAAShC,G,CAGjD,SAASD,EAAiB/C,GACxB0C,EAAkBJ,UAAUkB,IAAI,oBAChCb,EAAqBL,UAAUC,OAAO,oBAkCtCf,QAAQC,IAAI2C,GACZA,EAAYa,KAAK5D,GACjBG,QAAQC,IAAI2C,GACZhB,aAAa8B,QAAQ,iBAAkB3H,KAAK4H,UAAUf,G,CAjCxD,SAASpB,EAAoBhD,GAC3B2C,EAAqBL,UAAUkB,IAAI,oBACnCd,EAAkBJ,UAAUC,OAAO,oBAmCrBhF,KAAKC,MAAM4F,aAAaC,QAAQ,mBACxCC,SAAQ,CAACC,EAAS6B,KAClB7B,EAAQxB,MAAQV,EAAKU,MACvBqC,EAAYiB,OAAOD,EAAK,GACxBhC,aAAa8B,QAAQ,iBAAkB3H,KAAK4H,UAAUf,I,IAnC5D,SAAS5B,EAAgBxC,GACM,UAAzBA,EAAMC,OAAOC,WAGjBV,SAASiB,KAAKC,MAAMC,SAAW,GAC/Bb,EAAYwC,UAAUkB,IAAI,oBAC1BX,OAAOmC,oBAAoB,UAAWxC,GAAiB,GACvDC,EAAcuC,oBAAoB,QAASxC,GAC3C1C,EAAYkF,oBAAoB,QAASxC,GACzCE,EAAkBsC,oBAAoB,QAASjC,GAC/CJ,EAAqBqC,oBAAoB,QAAShC,G,EAvRpDlC,iBACE,IACE,MAAME,QAAiBC,MAAM,GAAG3B,kBAChC,IAAK0B,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3B,MAAMkE,QAAkBtE,EAASM,OACjC/B,EAAsBgG,mBACpB,YAC8BD,EA0C/BhB,KACCf,GAAW,qCAAqCA,EAAQgB,mBAEzDE,KAAK,I,CA3CN,MAAOC,GACPnF,EAAsB8C,UAAY,8EAClCb,QAAQC,IAAIiD,E,EAhBhBc,GACAjF,I","sources":["node_modules/@parcel/runtime-js/lib/runtime-ea0b97276da9354b.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-a72de8c583b0f5ea.js","node_modules/@parcel/runtime-js/lib/runtime-e3ed98e7eaf8c435.js","node_modules/@parcel/runtime-js/lib/runtime-a981e186ba85f880.js","node_modules/@parcel/runtime-js/lib/runtime-45eff0b4697e31e0.js","node_modules/@parcel/runtime-js/lib/runtime-80a8e0866d84085f.js","src/js/categories.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.2cdb2f43.js\\\",\\\"lp5u4\\\":\\\"sprite.8ca286f5.svg\\\",\\\"iWQIE\\\":\\\"apple-read-logo.652b354e.png\\\",\\\"894cL\\\":\\\"apple-read-logo@2x-1.15632d7d.png\\\",\\\"fz8Fl\\\":\\\"book-shop-logo.1d091ebd.png\\\",\\\"2CP9g\\\":\\\"book-shop-logo@2x.1f77f032.png\\\",\\\"gXHCa\\\":\\\"deafult-img.9168e021.jpg\\\",\\\"ayx2C\\\":\\\"shopping_list.2120bd25.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iWQIE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"894cL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fz8Fl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2CP9g\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gXHCa\")).toString();","import sprite from '/src/images/sprite.svg';\nimport appleLogo from '/src/images/apple-read-logo.png';\nimport appleLogo2x from '/src/images/apple-read-logo@2x-1.png';\nimport bookShopLogo from '/src/images/book-shop-logo.png';\nimport bookShopLogo2x from '/src/images/book-shop-logo@2x.png';\nimport Notiflix from 'notiflix';\nimport defoultImg from '../images/deafult-img.jpg';\n\nNotiflix.Loading.init({\n  className: 'notiflix-loading',\n  zindex: 4000,\n  backgroundColor: 'rgba(0,0,0,0.8)',\n  rtl: false,\n  fontFamily: 'Quicksand',\n  cssAnimation: true,\n  cssAnimationDuration: 400,\n  clickToClose: false,\n  customSvgUrl: null,\n  customSvgCode: null,\n  svgSize: '80px',\n  svgColor: 'var(--all-categories-active)',\n  messageID: 'NotiflixLoadingMessage',\n  messageFontSize: '15px',\n  messageMaxLength: 34,\n  messageColor: '#dcdcdc',\n});\n\nNotiflix.Loading.pulse();\n\nconst BASIC_URL = 'https://books-backend.p.goit.global/books/';\n\nconst categoriesListWrapper = document.querySelector('.js-categories-list');\nconst allCategoriesItem = document.querySelector('.js-all-categories');\nconst booksWrapperEl = document.querySelector('.js-books-wrapper');\nconst booksTitleEl = document.querySelector('.js-books-title');\nconst popUpEl = document.querySelector('.js-popUp');\nconst backdropPop = document.querySelector('.js-backdrop-pop');\n\ncategoriesListWrapper.addEventListener('click', handleCategoryClick);\nbooksWrapperEl.addEventListener('click', onOpenPopUp);\nbooksWrapperEl.addEventListener('click', topBooksSeeMore);\n\nlet currentCategory = allCategoriesItem;\nconst deafultInfo = 'Coming soon';\nlet btnCloseModal = null;\nlet btnAddShopingList = null;\nlet btnRemoveShopingList = null;\nlet addBtnShopList = null;\nlet removeBtnShopList = null;\nlet book = {};\nlet bookStorage = JSON.parse(localStorage.getItem('book-anotation')) || [];\ngetAllCategories();\ngetTopBooks();\n\nasync function getAllCategories() {\n  try {\n    const response = await fetch(`${BASIC_URL}category-list`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const countries = await response.json();\n    categoriesListWrapper.insertAdjacentHTML(\n      'beforeend',\n      createAllCategoriesListMarkup(countries)\n    );\n  } catch (err) {\n    categoriesListWrapper.innerHTML = `<h2 class=\"home__books-all-category\">Sorry, but there is no categories</h2>`;\n    console.log(err);\n  }\n}\n\nfunction handleCategoryClick(event) {\n  if (event.target.nodeName != 'LI') {\n    return;\n  }\n  const category = event.target.textContent.trim();\n  addActiveClass(event.target);\n  if (category === 'All categories') {\n    getTopBooks();\n  } else {\n    getSelectedCategory(category);\n  }\n}\n\nasync function getTopBooks() {\n  Notiflix.Loading.pulse();\n  try {\n    booksWrapperEl.innerHTML = '';\n    booksTitleEl.textContent = 'Best sellers book';\n    const response = await fetch(`${BASIC_URL}top-books `);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const topBooks = await response.json();\n    booksWrapperEl.innerHTML = createAllBooksMarkup(topBooks);\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nfunction createAllCategoriesListMarkup(array) {\n  return array\n    .map(\n      element => `<li class=\"home__categories-item\">${element.list_name}</li>`\n    )\n    .join('');\n}\n\nfunction createAllBooksMarkup(array) {\n  return array\n    .map(\n      category =>\n        `<li class=\"home__books-all-wrapper\">\n      <p class=\"home__books-all-category\">${category.list_name}</p>\n      <ul class=\"home__books-all-items\">\n        ${createSelectCategoryMarkup(category.books)}\n      </ul>\n      <button class=\"home__books-all-btn\" type=\"button\">\n        See more\n      </button>\n    </li>`\n    )\n    .join('');\n}\n\nfunction createSelectCategoryMarkup(array) {\n  return array\n    .map(\n      ({ book_image, title, author, _id }) =>\n        `<li class=\"home__books-item\">\n      <img class=\"home__books-img\" src=\"${book_image || defoultImg}\" alt=\"${\n          title || deafultInfo\n        }\" />\n      <h3 class=\"home__books-title\">${title || deafultInfo}</h3>\n      <p class=\"home__books-author\">${author || deafultInfo}</p>\n      <p style=\"display:none\" class=\"book-id\">${_id}</p>\n    </li>`\n    )\n    .join('');\n}\n\nasync function getSelectedCategory(category) {\n  Notiflix.Loading.pulse();\n\n  booksTitleEl.textContent = category;\n  booksWrapperEl.innerHTML = '';\n  try {\n    const response = await fetch(`${BASIC_URL}category?category=${category}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const booksOfSelectegCategory = await response.json();\n    booksWrapperEl.innerHTML = createSelectCategoryMarkup(\n      booksOfSelectegCategory\n    );\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nfunction addActiveClass(target) {\n  currentCategory.classList.remove('home__categories-item-active');\n  target.classList.add('home__categories-item-active');\n  currentCategory = target;\n}\n\nfunction topBooksSeeMore(event) {\n  if (event.target.type != 'button') {\n    return;\n  }\n  let categoryName = event.target.parentElement.querySelector(\n    '.home__books-all-category'\n  ).textContent;\n  getSelectedCategory(categoryName);\n  const categoriesArray = [...categoriesListWrapper.children];\n  const target = categoriesArray.find(\n    element => element.textContent === categoryName\n  );\n  addActiveClass(target);\n}\n\nasync function getBookById(id) {\n  try {\n    const response = await fetch(`${BASIC_URL}${id}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    book = await response.json();\n    popUpMarkUp(book);\n  } catch (error) {}\n}\n\nfunction popUpMarkUp(book) {\n  console.log(book);\n  const { author, buy_links, description, book_image, title, _id } = book;\n  const defaultInfo =\n    'Currently there is no description! Please come and check later;)';\n  const amazonUrl = buy_links[0].url;\n  const appleUrl = buy_links[1].url;\n  const bookShopUrl = buy_links[2].url;\n  let markUp = `<button class=\"close-btn-modal js-btn-close-modal\">\n      <svg class=\"close-btn-modal-icon\" width=\"24\" height=\"24\">\n        <use href=\"${sprite}#close-icon\"></use>\n      </svg>\n    </button>\n    <div class=\"title-author-discrp\">\n      <img\n        class=\"img-book\"\n        src=\"${book_image}\"\n        alt=\"poster book\"\n      />\n      <div class=\"wrap-anotations\">\n        <h2 class=\"title-book-pop-up\">${title || defaultInfo}</h2>\n        <p class=\"author\">${author || defaultInfo}</p>\n        <p class=\"discrition-book\">\n         ${description || defaultInfo}\n        </p>\n        <ul class=\"resource-shoping\">\n          <li>\n            <a href=\"${amazonUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <svg class=\"amazon-icon\">\n                <use href=\"${sprite}#amazon-logo\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"${appleUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${appleLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n          <li>\n            <a href=\"${bookShopUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${bookShopLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"wraper\">\n      <button class=\"btn-add-shop-list js-add\" type=\"button\">\n        add to shopping\n      </button>\n\n      <div class=\"wraper-remove js-wraper-remove pop-up-is-hidden\">\n      <button class=\"btn-add-shop-list btn-remove js-remove  \" type=\"button\">\n        remove from the shopping list\n      </button>\n\n      <p class=\"msg-add-shoplist js-remove \" >\n        Сongratulations! You have added the book to the shopping list. To\n        delete, press the button “Remove from the shopping list”.\n      </p>\n      </div>\n      </div>\n    </div>`;\n  popUpEl.innerHTML = markUp;\n  backdropPop.classList.remove('pop-up-is-hidden');\n  backdropPop.addEventListener('click', onCloseModalPop);\n  btnCloseModal = document.querySelector('.js-btn-close-modal');\n  btnAddShopingList = document.querySelector('.js-add');\n  btnRemoveShopingList = document.querySelector('.js-wraper-remove');\n  btnCloseModal.addEventListener('click', onCloseModalPop, true, {\n    once: true,\n  });\n  window.addEventListener('keydown', onCloseModalPopEsc, { once: true });\n  btnAddShopingList.addEventListener('click', onAddShopingList);\n  btnRemoveShopingList.addEventListener('click', onRemoveShopingList);\n  addBtnShopList = document.querySelector('.js-add');\n  removeBtnShopList = document.querySelector('.js-remove');\n\n  checkLocalStorage(_id);\n}\n\nfunction onOpenPopUp(event) {\n  if (event.target.nodeName != 'IMG') {\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  const parentLi = event.target.parentElement;\n  const bookId = parentLi.querySelector('.book-id').textContent;\n  getBookById(bookId);\n}\n\nfunction onCloseModalPopEsc(event) {\n  console.log(event);\n  if (event.key != 'Escape') {\n    return;\n  }\n  document.body.style.overflow = '';\n  backdropPop.classList.add('pop-up-is-hidden');\n  btnAddShopingList.removeEventListener('click', onAddShopingList);\n  btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n  addBtnShopList.removeEventListener('click', onAddShopingList);\n  removeBtnShopList.removeEventListener('click', onRemoveShopingList);\n}\n\nfunction onAddShopingList(event) {\n  btnAddShopingList.classList.add('pop-up-is-hidden');\n  btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n  addBookStorage();\n}\n\nfunction onRemoveShopingList(event) {\n  btnRemoveShopingList.classList.add('pop-up-is-hidden');\n  btnAddShopingList.classList.remove('pop-up-is-hidden');\n  removeBookStorage();\n}\n\nfunction onCloseModalPop(event) {\n  if (event.target.nodeName != 'BUTTON') {\n    return;\n  }\n  document.body.style.overflow = '';\n  backdropPop.classList.add('pop-up-is-hidden');\n  window.removeEventListener('keydown', onCloseModalPop, true);\n  btnCloseModal.removeEventListener('click', onCloseModalPop);\n  backdropPop.removeEventListener('click', onCloseModalPop);\n  btnAddShopingList.removeEventListener('click', onAddShopingList);\n  btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n}\n\nfunction checkLocalStorage(id) {\n  const books = localStorage.getItem('book-anotation');\n  JSON.parse(books).forEach(element => {\n    if (element._id === id) {\n      btnAddShopingList.classList.add('pop-up-is-hidden');\n      btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n    }\n  });\n}\n\nfunction addBookStorage() {\n  console.log(bookStorage);\n  bookStorage.push(book);\n  console.log(bookStorage);\n  localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n}\n\nfunction removeBookStorage() {\n  const books = JSON.parse(localStorage.getItem('book-anotation'));\n  books.forEach((element, idx) => {\n    if (element._id === book._id) {\n      bookStorage.splice(idx, 1);\n      localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n    }\n  });\n}\n"],"names":["parcelRequire","register","JSON","parse","$a4212a039eccdb43$exports","URL","resolve","url","toString","$916ab4c95ef352e6$exports","$2e6fa1da2ca4db77$exports","$9f744c542499847d$exports","$parcel$interopDefault","$7Y9D8","Loading","init","className","zindex","backgroundColor","rtl","fontFamily","cssAnimation","cssAnimationDuration","clickToClose","customSvgUrl","customSvgCode","svgSize","svgColor","messageID","messageFontSize","messageMaxLength","messageColor","pulse","$f3b06000f9b46fbb$var$BASIC_URL","$f3b06000f9b46fbb$var$categoriesListWrapper","document","querySelector","$f3b06000f9b46fbb$var$allCategoriesItem","$f3b06000f9b46fbb$var$booksWrapperEl","$f3b06000f9b46fbb$var$booksTitleEl","$f3b06000f9b46fbb$var$popUpEl","$f3b06000f9b46fbb$var$backdropPop","addEventListener","event","target","nodeName","category","textContent","trim","$f3b06000f9b46fbb$var$addActiveClass","$f3b06000f9b46fbb$var$getTopBooks","$f3b06000f9b46fbb$var$getSelectedCategory","body","style","overflow","parentLi","parentElement","async","id","response","fetch","ok","Error","statusText","$f3b06000f9b46fbb$var$book","json","book1","console","log","author","buy_links","description","book_image","title","_id","defaultInfo","amazonUrl","appleUrl","bookShopUrl","markUp","innerHTML","classList","remove","$f3b06000f9b46fbb$var$onCloseModalPop","$f3b06000f9b46fbb$var$btnCloseModal","$f3b06000f9b46fbb$var$btnAddShopingList","$f3b06000f9b46fbb$var$btnRemoveShopingList","once","window","$f3b06000f9b46fbb$var$onCloseModalPopEsc","$f3b06000f9b46fbb$var$onAddShopingList","$f3b06000f9b46fbb$var$onRemoveShopingList","$f3b06000f9b46fbb$var$addBtnShopList","$f3b06000f9b46fbb$var$removeBtnShopList","books","localStorage","getItem","forEach","element","add","$f3b06000f9b46fbb$var$checkLocalStorage","$f3b06000f9b46fbb$var$popUpMarkUp","error","$f3b06000f9b46fbb$var$getBookById","type","categoryName","categoriesArray","children","find","$f3b06000f9b46fbb$var$currentCategory","$f3b06000f9b46fbb$var$deafultInfo","$f3b06000f9b46fbb$var$bookStorage","topBooks","map","list_name","$f3b06000f9b46fbb$var$createSelectCategoryMarkup","join","err","Notify","failure","array","booksOfSelectegCategory","key","removeEventListener","push","setItem","stringify","idx","splice","countries","insertAdjacentHTML","$f3b06000f9b46fbb$var$getAllCategories"],"version":3,"file":"index.2cdb2f43.js.map"}