{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-ef971226e0fec1c4.js","node_modules/@parcel/runtime-js/lib/runtime-9e11dc397c52df4a.js","node_modules/@parcel/runtime-js/lib/runtime-2f27e70936046b17.js","node_modules/@parcel/runtime-js/lib/runtime-08a404bb56bc032e.js","node_modules/@parcel/runtime-js/lib/runtime-e90597d4fdb88e02.js","node_modules/@parcel/runtime-js/lib/runtime-a873ed09e13ab206.js","node_modules/@parcel/runtime-js/lib/runtime-c4c2d7577be22ad5.js","src/js/categories.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.ba15d373.js\\\",\\\"ee16w\\\":\\\"sprite.8ca286f5.svg\\\",\\\"eICEL\\\":\\\"apple-read-logo.652b354e.png\\\",\\\"2L4yx\\\":\\\"apple-read-logo@2x-1.15632d7d.png\\\",\\\"i9pPv\\\":\\\"book-shop-logo.1d091ebd.png\\\",\\\"7yZHS\\\":\\\"book-shop-logo@2x.1f77f032.png\\\",\\\"2HnSn\\\":\\\"deafult-img.9168e021.jpg\\\",\\\"h4tGU\\\":\\\"shopping_list.01ee604e.js\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"eICEL\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"2L4yx\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"i9pPv\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"7yZHS\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"2HnSn\");","import sprite from '/src/images/sprite.svg';\nimport appleLogo from '/src/images/apple-read-logo.png';\nimport appleLogo2x from '/src/images/apple-read-logo@2x-1.png';\nimport bookShopLogo from '/src/images/book-shop-logo.png';\nimport bookShopLogo2x from '/src/images/book-shop-logo@2x.png';\nimport Notiflix from 'notiflix';\nimport defoultImg from '../images/deafult-img.jpg';\n\nNotiflix.Loading.init({\n  className: 'notiflix-loading',\n  zindex: 4000,\n  backgroundColor: 'rgba(0,0,0,0.8)',\n  rtl: false,\n  fontFamily: 'Quicksand',\n  cssAnimation: true,\n  cssAnimationDuration: 400,\n  clickToClose: false,\n  customSvgUrl: null,\n  customSvgCode: null,\n  svgSize: '80px',\n  svgColor: 'var(--all-categories-active)',\n  messageID: 'NotiflixLoadingMessage',\n  messageFontSize: '15px',\n  messageMaxLength: 34,\n  messageColor: '#dcdcdc',\n});\n\nNotiflix.Loading.pulse();\n\nconst BASIC_URL = 'https://books-backend.p.goit.global/books/';\n\nconst categoriesListWrapper = document.querySelector('.js-categories-list');\nconst allCategoriesItem = document.querySelector('.js-all-categories');\nconst booksWrapperEl = document.querySelector('.js-books-wrapper');\nconst booksTitleEl = document.querySelector('.js-books-title');\nconst popUpEl = document.querySelector('.js-popUp');\nconst backdropPop = document.querySelector('.js-backdrop-pop');\n\ncategoriesListWrapper.addEventListener('click', handleCategoryClick);\nbooksWrapperEl.addEventListener('click', onOpenPopUp);\nbooksWrapperEl.addEventListener('click', topBooksSeeMore);\n\nlet currentCategory = allCategoriesItem;\nconst deafultInfo = 'Coming soon';\nlet btnCloseModal = null;\nlet btnAddShopingList = null;\nlet btnRemoveShopingList = null;\nlet addBtnShopList = null;\nlet removeBtnShopList = null;\nlet book = {};\nlet bookStorage = JSON.parse(localStorage.getItem('book-anotation'));\n\ngetAllCategories();\ngetTopBooks();\n\nasync function getAllCategories() {\n  try {\n    const response = await fetch(`${BASIC_URL}category-list`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const countries = await response.json();\n    categoriesListWrapper.insertAdjacentHTML(\n      'beforeend',\n      createAllCategoriesListMarkup(countries)\n    );\n  } catch (err) {\n    categoriesListWrapper.innerHTML = `<h2 class=\"home__books-all-category\">Sorry, but there is no categories</h2>`;\n    console.log(err);\n  }\n}\n\nfunction handleCategoryClick(event) {\n  if (event.target.nodeName != 'LI') {\n    return;\n  }\n  const category = event.target.textContent.trim();\n  addActiveClass(event.target);\n  if (category === 'All categories') {\n    getTopBooks();\n  } else {\n    getSelectedCategory(category);\n  }\n}\n\nasync function getTopBooks() {\n  Notiflix.Loading.pulse();\n  try {\n    booksWrapperEl.innerHTML = '';\n    booksTitleEl.textContent = 'Best sellers book';\n    const response = await fetch(`${BASIC_URL}top-books `);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const topBooks = await response.json();\n    booksWrapperEl.innerHTML = createAllBooksMarkup(topBooks);\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nfunction createAllCategoriesListMarkup(array) {\n  return array\n    .map(\n      element => `<li class=\"home__categories-item\">${element.list_name}</li>`\n    )\n    .join('');\n}\n\nfunction createAllBooksMarkup(array) {\n  return array\n    .map(\n      category =>\n        `<li class=\"home__books-all-wrapper\">\n      <p class=\"home__books-all-category\">${category.list_name}</p>\n      <ul class=\"home__books-all-items\">\n        ${createSelectCategoryMarkup(category.books)}\n      </ul>\n      <button class=\"home__books-all-btn\" type=\"button\">\n        See more\n      </button>\n    </li>`\n    )\n    .join('');\n}\n\nfunction createSelectCategoryMarkup(array) {\n  return array\n    .map(\n      ({ book_image, title, author, _id }) =>\n        `<li class=\"home__books-item\">\n      <img class=\"home__books-img\" src=\"${book_image || defoultImg}\" alt=\"${\n          title || deafultInfo\n        }\" />\n      <h3 class=\"home__books-title\">${title || deafultInfo}</h3>\n      <p class=\"home__books-author\">${author || deafultInfo}</p>\n      <p style=\"display:none\" class=\"book-id\">${_id}</p>\n    </li>`\n    )\n    .join('');\n}\n\nasync function getSelectedCategory(category) {\n  Notiflix.Loading.pulse();\n\n  booksTitleEl.textContent = category;\n  booksWrapperEl.innerHTML = '';\n  try {\n    const response = await fetch(`${BASIC_URL}category?category=${category}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const booksOfSelectegCategory = await response.json();\n    booksWrapperEl.innerHTML = createSelectCategoryMarkup(\n      booksOfSelectegCategory\n    );\n    Notiflix.Loading.remove();\n  } catch (err) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Somesing was wrong! Please restart page!');\n    console.log(err);\n  }\n}\n\nfunction addActiveClass(target) {\n  currentCategory.classList.remove('home__categories-item-active');\n  target.classList.add('home__categories-item-active');\n  currentCategory = target;\n}\n\nfunction topBooksSeeMore(event) {\n  if (event.target.type != 'button') {\n    return;\n  }\n  let categoryName = event.target.parentElement.querySelector(\n    '.home__books-all-category'\n  ).textContent;\n  getSelectedCategory(categoryName);\n  const categoriesArray = [...categoriesListWrapper.children];\n  const target = categoriesArray.find(\n    element => element.textContent === categoryName\n  );\n  addActiveClass(target);\n}\n\nasync function getBookById(id) {\n  try {\n    const response = await fetch(`${BASIC_URL}${id}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    book = await response.json();\n    popUpMarkUp(book);\n  } catch (error) {}\n}\n\nfunction popUpMarkUp(book) {\n  const { author, buy_links, description, book_image, title, _id } = book;\n  const defaultInfo =\n    'Currently there is no description! Please come and check later;)';\n  const amazonUrl = buy_links[0].url;\n  const appleUrl = buy_links[1].url;\n  const bookShopUrl = buy_links[2].url;\n  let markUp = `<button class=\"close-btn-modal js-btn-close-modal\">\n      <svg class=\"close-btn-modal-icon\" width=\"24\" height=\"24\">\n        <use href=\"${sprite}#close-icon\"></use>\n      </svg>\n    </button>\n    <div class=\"title-author-discrp\">\n      <img\n        class=\"img-book\"\n        src=\"${book_image}\"\n        alt=\"poster book\"\n      />\n      <div class=\"wrap-anotations\">\n        <h2 class=\"title-book-pop-up\">${title || defaultInfo}</h2>\n        <p class=\"author\">${author || defaultInfo}</p>\n        <p class=\"discrition-book\">\n         ${description || defaultInfo}\n        </p>\n        <ul class=\"resource-shoping\">\n          <li>\n            <a href=\"${amazonUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <svg class=\"amazon-icon\">\n                <use href=\"${sprite}#amazon-logo\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"${appleUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${appleLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n          <li>\n            <a href=\"${bookShopUrl}\" class=\"icon-wraper\" target=\"_blank\">\n              <img\n                class=\"img-shop-icon\"\n                src=\"${bookShopLogo}\"\n                alt=\"apple\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"wraper\">\n      <button class=\"btn-add-shop-list js-add\" type=\"button\">\n        add to shopping\n      </button>\n\n      <div class=\"wraper-remove js-wraper-remove pop-up-is-hidden\">\n      <button class=\"btn-add-shop-list btn-remove js-remove  \" type=\"button\">\n        remove from the shopping list\n      </button>\n\n      <p class=\"msg-add-shoplist js-remove \" >\n        Сongratulations! You have added the book to the shopping list. To\n        delete, press the button “Remove from the shopping list”.\n      </p>\n      </div>\n      </div>\n    </div>`;\n  popUpEl.innerHTML = markUp;\n  backdropPop.classList.remove('pop-up-is-hidden');\n  backdropPop.addEventListener('click', onCloseModalPop);\n  btnCloseModal = document.querySelector('.js-btn-close-modal');\n  btnAddShopingList = document.querySelector('.js-add');\n  btnRemoveShopingList = document.querySelector('.js-wraper-remove');\n  btnCloseModal.addEventListener('click', onCloseModalPop, true, {\n    once: true,\n  });\n  window.addEventListener('keydown', onCloseModalPopEsc, { once: true });\n  btnAddShopingList.addEventListener('click', onAddShopingList);\n  btnRemoveShopingList.addEventListener('click', onRemoveShopingList);\n  addBtnShopList = document.querySelector('.js-add');\n  removeBtnShopList = document.querySelector('.js-remove');\n\n  checkLocalStorage(_id);\n}\n\nfunction onOpenPopUp(event) {\n  if (event.target.nodeName != 'IMG') {\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  const parentLi = event.target.parentElement;\n  const bookId = parentLi.querySelector('.book-id').textContent;\n  getBookById(bookId);\n}\n\nfunction onCloseModalPopEsc(event) {\n  console.log(event);\n  if (event.key !== 'Escape') {\n    return;\n  }\n  document.body.style.overflow = '';\n  backdropPop.classList.add('pop-up-is-hidden');\n  btnAddShopingList.removeEventListener('click', onAddShopingList);\n  btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n  addBtnShopList.removeEventListener('click', onAddShopingList);\n  removeBtnShopList.removeEventListener('click', onRemoveShopingList);\n}\n\nfunction onAddShopingList(event) {\n  btnAddShopingList.classList.add('pop-up-is-hidden');\n  btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n  addBookStorage();\n}\n\nfunction onRemoveShopingList(event) {\n  btnRemoveShopingList.classList.add('pop-up-is-hidden');\n  btnAddShopingList.classList.remove('pop-up-is-hidden');\n  removeBookStorage();\n}\n\nfunction onCloseModalPop(event) {\n  if (\n    event.target === backdropPop ||\n    event.target.nodeName === 'svg' ||\n    event.target.nodeName === 'use'\n  ) {\n    document.body.style.overflow = '';\n    backdropPop.classList.add('pop-up-is-hidden');\n    window.removeEventListener('keydown', onCloseModalPop, true);\n    btnCloseModal.removeEventListener('click', onCloseModalPop);\n    backdropPop.removeEventListener('click', onCloseModalPop);\n    btnAddShopingList.removeEventListener('click', onAddShopingList);\n    btnRemoveShopingList.removeEventListener('click', onRemoveShopingList);\n  }\n}\n\nfunction checkLocalStorage(id) {\n  const books = localStorage.getItem('book-anotation');\n  JSON.parse(books).forEach(element => {\n    if (element._id === id) {\n      btnAddShopingList.classList.add('pop-up-is-hidden');\n      btnRemoveShopingList.classList.remove('pop-up-is-hidden');\n    }\n  });\n}\n\nfunction addBookStorage() {\n  console.log(bookStorage);\n  bookStorage.push(book);\n  console.log(bookStorage);\n  localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n}\n\nfunction removeBookStorage() {\n  const books = JSON.parse(localStorage.getItem('book-anotation'));\n  books.forEach((element, idx) => {\n    if (element._id === book._id) {\n      bookStorage.splice(idx, 1);\n      localStorage.setItem('book-anotation', JSON.stringify(bookStorage));\n    }\n  });\n}\n"],"names":["parcelRequire","register","JSON","parse","$a6c111942fffcaf6$exports","getBundleURL","resolve","$98cea8627f997e31$exports","$b75c86ec352b27e1$exports","$dba7efe448595bf0$exports","$parcel$interopDefault","$6JpON","Loading","init","className","zindex","backgroundColor","rtl","fontFamily","cssAnimation","cssAnimationDuration","clickToClose","customSvgUrl","customSvgCode","svgSize","svgColor","messageID","messageFontSize","messageMaxLength","messageColor","pulse","$7035cf87bda54340$var$BASIC_URL","$7035cf87bda54340$var$categoriesListWrapper","document","querySelector","$7035cf87bda54340$var$allCategoriesItem","$7035cf87bda54340$var$booksWrapperEl","$7035cf87bda54340$var$booksTitleEl","$7035cf87bda54340$var$popUpEl","$7035cf87bda54340$var$backdropPop","addEventListener","event","target","nodeName","category","textContent","trim","$7035cf87bda54340$var$addActiveClass","$7035cf87bda54340$var$getTopBooks","$7035cf87bda54340$var$getSelectedCategory","body","style","overflow","parentLi","parentElement","async","id","response","fetch","ok","Error","statusText","$7035cf87bda54340$var$book","json","book1","author","buy_links","description","book_image","title","_id","defaultInfo","amazonUrl","url","appleUrl","bookShopUrl","markUp","innerHTML","classList","remove","$7035cf87bda54340$var$onCloseModalPop","$7035cf87bda54340$var$btnCloseModal","$7035cf87bda54340$var$btnAddShopingList","$7035cf87bda54340$var$btnRemoveShopingList","once","window","$7035cf87bda54340$var$onCloseModalPopEsc","$7035cf87bda54340$var$onAddShopingList","$7035cf87bda54340$var$onRemoveShopingList","$7035cf87bda54340$var$addBtnShopList","$7035cf87bda54340$var$removeBtnShopList","books","localStorage","getItem","forEach","element","add","$7035cf87bda54340$var$checkLocalStorage","$7035cf87bda54340$var$popUpMarkUp","error","$7035cf87bda54340$var$getBookById","type","categoryName","categoriesArray","children","find","$7035cf87bda54340$var$currentCategory","$7035cf87bda54340$var$deafultInfo","$7035cf87bda54340$var$bookStorage","topBooks","map","list_name","$7035cf87bda54340$var$createSelectCategoryMarkup","join","err","Notify","failure","console","log","array","booksOfSelectegCategory","key","removeEventListener","push","setItem","stringify","idx","splice","countries","insertAdjacentHTML","$7035cf87bda54340$var$getAllCategories"],"version":3,"file":"index.ba15d373.js.map"}